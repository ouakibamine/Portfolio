<!DOCTYPE html>
{% load static %}
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{% block title %} Protfolio {% endblock title %}</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@700&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="{% static 'css/style.css' %}" />
    <!-- Google Fonts, Font Awesome, Bootstrap CSS -->
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
     <style>
        /* === Include all your CSS styles from your previous message === */
        body { font-family: 'Roboto', sans-serif; }
        * { margin: 0; padding: 0; }
        i { margin-right: 10px; }
        .navbar-nav {
            position: relative;
          }

        .navbar-logo{
          padding: 15px;
          color: #fff;
        }
        .navbar-mainbg{
          background-color: #5161ce;
          padding: 0px;
        }
        #navbarSupportedContent{
          overflow: hidden;
          position: relative;
        }
        #navbarSupportedContent ul{
          padding: 0px;
          margin: 0px;
        }
        #navbarSupportedContent ul li a i{
          margin-right: 10px;
        }
        #navbarSupportedContent li {
          list-style-type: none;
          float: left;
        }
        #navbarSupportedContent ul li a{
          color: /*rgba(255,255,255,0.5)*/#ffff;
            text-decoration: none;
            font-size: 15px;
            display: block;
            padding: 25px 25px;
            transition-duration:0.6s;
          transition-timing-function: cubic-bezier(0.68, -0.55, 0.265, 1.55);
            position: relative;
        }
        #navbarSupportedContent>ul>li.active>a{
          color: #5161ce;
          background-color: transparent;
          transition: all 0.7s;
        }
        #navbarSupportedContent a:not(:only-child):after {
          content: "\f105";
          position: absolute;
          right: 20px;
          top: 10px;
          font-size: 14px;
          font-family: "Font Awesome 5 Free";
          display: inline-block;
          padding-right: 3px;
          vertical-align: middle;
          font-weight: 900;
          transition: 0.5s;
        }
        #navbarSupportedContent .active>a:not(:only-child):after {
          transform: rotate(90deg);
        }
        .hori-selector{
          display:inline-block;
          position:absolute;
          height: 100%;
          top: 0px;
          left: 250px;
          transition-duration:0.6s;
          transition-timing-function: cubic-bezier(0.68, -0.55, 0.265, 1.55);
          background-color: #fff;
          border-top-left-radius: 15px;
          border-top-right-radius: 15px;
          margin-top: 10px;
        }
        .hori-selector .right,
        .hori-selector .left{
          position: absolute;
          width: 25px;
          height: 25px;
          background-color: #fff;
          bottom: 10px;
        }
        .hori-selector .right{
          right: -25px;
        }
        .hori-selector .left{
          left: -25px;
        }
        .hori-selector .right:before,
        .hori-selector .left:before{
          content: '';
            position: absolute;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background-color: #5161ce;
        }
        .hori-selector .right:before{
          bottom: 0;
            right: -25px;
        }
        .hori-selector .left:before{
          bottom: 0;
            left: -25px;
        }

        @media (min-width: 992px) {
            .navbar-expand-custom {
                flex-flow: row nowrap;
                justify-content: flex-start;
            }
            .navbar-expand-custom .navbar-nav {
                flex-direction: row;
            }
            .navbar-expand-custom .navbar-toggler {
                display: none;
            }
            .navbar-expand-custom .navbar-collapse {
                display: flex !important;
                flex-basis: auto;
            }
        }
        @media (max-width: 991px) {
            #navbarSupportedContent ul li a { padding: 12px 30px; }
            .hori-selector {
                margin-top: 0px;
                margin-left: 10px;
                border-radius: 0;
                border-top-left-radius: 25px;
                border-bottom-left-radius: 25px;
            }
        }
    </style>
  </head>
  <body>
    
    {% include "navbar.html" %}
    <div class="container">
        {% block content1 %} {% endblock content1 %}
    </div>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
      crossorigin="anonymous"
    ></script>
    <script>
  const roles = ["I'm Data Scientist ", "I'm Data Analyst ", "I'm Data Engineer "];
  let i = 0;
  let j = 0;
  let current = "";
  let isDeleting = false;
  const typingElement = document.querySelector(".typing");

  function type() {
    if (i < roles.length) {
      if (!isDeleting && j <= roles[i].length) {
        current = roles[i].substring(0, j++);
        typingElement.innerHTML = current;
      }

      if (isDeleting && j >= 0) {
        current = roles[i].substring(0, j--);
        typingElement.innerHTML = current;
      }

      if (j === roles[i].length) isDeleting = true;
      if (isDeleting && j === 0) {
        isDeleting = false;
        i++;
        if (i === roles.length) i = 0;
      }
    }
    setTimeout(type, isDeleting ? 60 : 120);
  }

  document.addEventListener("DOMContentLoaded", type);
</script>

<!-- jQuery -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<!-- Bootstrap 4 JS -->
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

<!-- JS en fin de body -->
<script>
 $(document).ready(function () {
  var path = window.location.pathname;
  console.log("Current path:", path);

  // Correction ici : cibler <a> et ajouter .active sur <li>
  $('#navbarSupportedContent ul li a').each(function () {
    if ($(this).attr('href') === path) {
      $(this).parent().addClass('active');
    }
  });

  setTimeout(test, 100);

  // Mise à jour au clic
  $("#navbarSupportedContent").on("click", "li", function () {
    $('#navbarSupportedContent ul li').removeClass("active");
    $(this).addClass('active');
    test();
  });
});

function test() {
  var tabsNewAnim = $('#navbarSupportedContent');
  var activeItemNewAnim = tabsNewAnim.find('.active > a'); // CHANGÉ ICI
  if (!activeItemNewAnim.length) return;

  var activeHeight = activeItemNewAnim.innerHeight();
  var activeWidth = activeItemNewAnim.innerWidth();
  var itemPos = activeItemNewAnim.position();

  console.log("Active link:", activeItemNewAnim.text(), "Position:", itemPos);

  $(".hori-selector").css({
    top: itemPos.top + "px",
    left: itemPos.left + "px",
    height: activeHeight + "px",
    width: activeWidth + "px"
  });
}



  
</script>

  </body>
</html>
